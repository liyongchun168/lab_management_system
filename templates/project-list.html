{% extends 'base.html' %}

{% block title %}
项目列表
{% endblock %}

{% block content %}
<table class="table table-bordered">
{#    <caption>物品列表</caption>#}
    <thead>
        <tr>
            <th>项目名称</th>
            <th>项目介绍</th>
            <th>项目负责人</th>
            {% if perms.lab.change_good and perms.lab.delete_project %}
                <th>操作</th>
            {% endif %}
        </tr>
    </thead>
    <tbody>
        {% for project in projects %}
            <tr>
                <td>{{ project.name }}</td>
                <td>{{ project.leader }}</td>

                {% if perms.lab.change_good and perms.lab.delete_good %}
                <td>
                    <a href="{% url 'del_good' good.id %}"><span class="glyphicon glyphicon-trash"></span></a>
                    <a href="{% url 'edit_good' good.id %}"><span class="glyphicon glyphicon-edit"></span></a>
                </td>
                {% endif %}

            </tr>
        {% endfor %}
    </tbody>
</table>
<nav aria-label="Page navigation">
  <ul class="pagination">
      {% if projects.has_previous %}
          <li>
              <a href="?page={{ projects.previous_page_number }}" aria-label="Previous">
                <span aria-hidden="true">&laquo;</span>
              </a>
          </li>
      {% endif %}

    {%  for pg in projects.paginator.page_range %}
        {% if projects.number == pg %}
            <li class="active"><a href="?page={{ pg }}">{{ pg }}</a></li>
        {% else %}
            <li><a href="?page={{ pg }}">{{ pg }}</a></li>
        {% endif %}
    {% endfor %}

    {% if projects.has_next %}
        <li>
          <a href="?page={{ projects.next_page_number }}" aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
          </a>
        </li>
        {% endif %}
  </ul>
</nav>
{% endblock %}